[TOC]
# 计算几何
##  二维几何基础

### 浮点数判断正负号 判断两个浮点数的大小
```c
const double pi=acos(-1,0)
const double eps=1e-8;
//判断一个浮点数的正负号
int Sgn(double x){
	if(fabs(x)<eps) return 0;
	else return x<0?-1:1;
}
//判断两个浮点数的大小
int Dcmp(double x,double y){
    if(fabs(x-y)<eps) return 0;
    else return x<y?-1:1;//0为相等;-1为小于;1为大于
}
```
### 点
```c
struct  Node{
	double x,y;
	Node(){};
	Node(double a,double b):x(a),y(b){}
};
//两点之间的距离
double Dist(Node a,Node b){
	return sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));
}
```
### 向量
向量也可用点来表示，所以直接用点表示
```c
typedef Node Vector;
```
#### 向量4则运算
```c
struct  Node{
	double x,y;
	Node(){};
	Node(double x,double y):x(x),y(y){}
	Node operator+(Node b){ return Node(x+b.x,y+b.y);}
	Node operator-(Node b){ return Node(x-b.x,y-b.y); }
	Node operator*(double k){ return Node(x*k,y*k);}
	Node operator/(double k){ return Node(x/k,y/k); }
	bool operator==(Node b){ return sgn(x-b.x)==0&&sgn(y-b.y)==0; }
};
```
### 向量的点积与叉积以及其他应用模板
```c
//向量的点积
double Dot(Vector a,Vector b){
	return a.x*B.x+a.y*b.y;
}
//求长度
double Len(Vector a){ return sqrt(Dot(a,a));}
//求长度的平方
double Len2(Vector a){ return Dot(a,a); }
//求向量A与B的夹角大小
double Angle(Vector a,Vector b){ return acos(Dot(a,b)/Len(a)/Len(b));}
//向量的叉积 a,b有顺序
double Cross(Vector a,Vector b){ return a.x*b.y-a.y*b.x;}
```



## 极角排序

### 基本

```cpp
struct point
{
    double x,y;
};
double cross(point a, point b)
{
    return a.x*b.y-a.y*b.x;
}
```

### 常用方法(默认排序从小到大)

#### atan2()函数

  * 相较于计算叉积速度快，但精度较低

```cpp
bool cmp1(point a,point b)
{
    if(atan2(a.y,a.x)!=atan2(b.y,b.x))
        return atan2(a.y,a.x)<atan2(b.y,b.x);
    else return a.x<b.x;
}
bool cmp2(point a,point b)
{
    return atan2(a.y,a.x)<atan2(b.y,b.x);
}
```

